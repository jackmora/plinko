(self.webpackChunkgamebox=self.webpackChunkgamebox||[]).push([[1017],{10658:function(t){t.exports=function(){"use strict";var t=1e3,e=6e4,r=36e5,n="millisecond",i="second",s="minute",o="hour",a="day",u="week",c="month",h="quarter",f="year",l="date",p="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},m={s:g,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),i=r%60;return(e<=0?"+":"-")+g(n,2,"0")+":"+g(i,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),i=e.clone().add(n,c),s=r-i<0,o=e.clone().add(n+(s?-1:1),c);return+(-(n+(r-i)/(s?i-o:o-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:f,w:u,d:a,D:l,h:o,m:s,s:i,ms:n,Q:h}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},w="en",k={};k[w]=v;var b=function(t){return t instanceof O},$=function t(e,r,n){var i;if(!e)return w;if("string"==typeof e){var s=e.toLowerCase();k[s]&&(i=s),r&&(k[s]=r,i=s);var o=e.split("-");if(!i&&o.length>1)return t(o[0])}else{var a=e.name;k[a]=e,i=a}return!n&&i&&(w=i),i||!n&&w},S=function(t,e){if(b(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new O(r)},T=m;T.l=$,T.i=b,T.w=function(t,e){return S(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var O=function(){function v(t){this.$L=$(t.locale,null,!0),this.parse(t)}var g=v.prototype;return g.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(T.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(d);if(n){var i=n[2]-1||0,s=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},g.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},g.$utils=function(){return T},g.isValid=function(){return!(this.$d.toString()===p)},g.isSame=function(t,e){var r=S(t);return this.startOf(e)<=r&&r<=this.endOf(e)},g.isAfter=function(t,e){return S(t)<this.startOf(e)},g.isBefore=function(t,e){return this.endOf(e)<S(t)},g.$g=function(t,e,r){return T.u(t)?this[e]:this.set(r,t)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(t,e){var r=this,n=!!T.u(e)||e,h=T.p(t),p=function(t,e){var i=T.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return n?i:i.endOf(a)},d=function(t,e){return T.w(r.toDate()[t].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},y=this.$W,v=this.$M,g=this.$D,m="set"+(this.$u?"UTC":"");switch(h){case f:return n?p(1,0):p(31,11);case c:return n?p(1,v):p(0,v+1);case u:var w=this.$locale().weekStart||0,k=(y<w?y+7:y)-w;return p(n?g-k:g+(6-k),v);case a:case l:return d(m+"Hours",0);case o:return d(m+"Minutes",1);case s:return d(m+"Seconds",2);case i:return d(m+"Milliseconds",3);default:return this.clone()}},g.endOf=function(t){return this.startOf(t,!1)},g.$set=function(t,e){var r,u=T.p(t),h="set"+(this.$u?"UTC":""),p=(r={},r[a]=h+"Date",r[l]=h+"Date",r[c]=h+"Month",r[f]=h+"FullYear",r[o]=h+"Hours",r[s]=h+"Minutes",r[i]=h+"Seconds",r[n]=h+"Milliseconds",r)[u],d=u===a?this.$D+(e-this.$W):e;if(u===c||u===f){var y=this.clone().set(l,1);y.$d[p](d),y.init(),this.$d=y.set(l,Math.min(this.$D,y.daysInMonth())).$d}else p&&this.$d[p](d);return this.init(),this},g.set=function(t,e){return this.clone().$set(t,e)},g.get=function(t){return this[T.p(t)]()},g.add=function(n,h){var l,p=this;n=Number(n);var d=T.p(h),y=function(t){var e=S(p);return T.w(e.date(e.date()+Math.round(t*n)),p)};if(d===c)return this.set(c,this.$M+n);if(d===f)return this.set(f,this.$y+n);if(d===a)return y(1);if(d===u)return y(7);var v=(l={},l[s]=e,l[o]=r,l[i]=t,l)[d]||1,g=this.$d.getTime()+n*v;return T.w(g,this)},g.subtract=function(t,e){return this.add(-1*t,e)},g.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||p;var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=T.z(this),s=this.$H,o=this.$m,a=this.$M,u=r.weekdays,c=r.months,h=function(t,r,i,s){return t&&(t[r]||t(e,n))||i[r].slice(0,s)},f=function(t){return T.s(s%12||12,t,"0")},l=r.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},d={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:T.s(a+1,2,"0"),MMM:h(r.monthsShort,a,c,3),MMMM:h(c,a),D:this.$D,DD:T.s(this.$D,2,"0"),d:String(this.$W),dd:h(r.weekdaysMin,this.$W,u,2),ddd:h(r.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(s),HH:T.s(s,2,"0"),h:f(1),hh:f(2),a:l(s,o,!0),A:l(s,o,!1),m:String(o),mm:T.s(o,2,"0"),s:String(this.$s),ss:T.s(this.$s,2,"0"),SSS:T.s(this.$ms,3,"0"),Z:i};return n.replace(y,(function(t,e){return e||d[t]||i.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(n,l,p){var d,y=T.p(l),v=S(n),g=(v.utcOffset()-this.utcOffset())*e,m=this-v,w=T.m(this,v);return w=(d={},d[f]=w/12,d[c]=w,d[h]=w/3,d[u]=(m-g)/6048e5,d[a]=(m-g)/864e5,d[o]=m/r,d[s]=m/e,d[i]=m/t,d)[y]||m,p?w:T.a(w)},g.daysInMonth=function(){return this.endOf(c).$D},g.$locale=function(){return k[this.$L]},g.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=$(t,e,!0);return n&&(r.$L=n),r},g.clone=function(){return T.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},v}(),x=O.prototype;return S.prototype=x,[["$ms",n],["$s",i],["$m",s],["$H",o],["$W",a],["$M",c],["$y",f],["$D",l]].forEach((function(t){x[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),S.extend=function(t,e){return t.$i||(t(e,O,S),t.$i=!0),S},S.locale=$,S.isDayjs=b,S.unix=function(t){return S(1e3*t)},S.en=k[w],S.Ls=k,S.p={},S}()},39914:function(t){t.exports=function(){"use strict";return function(t,e){e.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}()},45086:function(t){t.exports=function(){"use strict";var t="day";return function(e,r,n){var i=function(e){return e.add(4-e.isoWeekday(),t)},s=r.prototype;s.isoWeekYear=function(){return i(this).year()},s.isoWeek=function(e){if(!this.$utils().u(e))return this.add(7*(e-this.isoWeek()),t);var r,s,o,a=i(this),u=(r=this.isoWeekYear(),o=4-(s=(this.$u?n.utc:n)().year(r).startOf("year")).isoWeekday(),s.isoWeekday()>4&&(o+=7),s.add(o,t));return a.diff(u,"week")+1},s.isoWeekday=function(t){return this.$utils().u(t)?this.day()||7:this.day(this.day()%7?t:t-7)};var o=s.startOf;s.startOf=function(t,e){var r=this.$utils(),n=!!r.u(e)||e;return"isoweek"===r.p(t)?n?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):o.bind(this)(t,e)}}}()},69702:function(t){t.exports=function(){"use strict";return function(t,e){e.prototype.isoWeeksInYear=function(){var t=this.isLeapYear(),e=this.endOf("y").day();return 4===e||t&&5===e?53:52}}}()},96751:function(t,e,r){"use strict";r.d(e,{sk:function(){return pt},Vq:function(){return P},Y3:function(){return nt},Qc:function(){return lt}});var n=r(15671),i=r(43144),s=r(97326),o=r(60136),a=r(29388),u=r(11752),c=r(61120),h=r(98737),f=Object.create(null);f.open="0",f.close="1",f.ping="2",f.pong="3",f.message="4",f.upgrade="5",f.noop="6";var l=Object.create(null);Object.keys(f).forEach((function(t){l[f[t]]=t}));var p,d={type:"error",data:"parser error"},y="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),v="function"===typeof ArrayBuffer,g=function(t){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer},m=function(t,e,r){var n=t.type,i=t.data;return y&&i instanceof Blob?e?r(i):w(i,r):v&&(i instanceof ArrayBuffer||g(i))?e?r(i):w(new Blob([i]),r):r(f[n]+(i||""))},w=function(t,e){var r=new FileReader;return r.onload=function(){var t=r.result.split(",")[1];e("b"+(t||""))},r.readAsDataURL(t)};function k(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}for(var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$="undefined"===typeof Uint8Array?[]:new Uint8Array(256),S=0;S<b.length;S++)$[b.charCodeAt(S)]=S;var T,O="function"===typeof ArrayBuffer,x=function(t,e){if("string"!==typeof t)return{type:"message",data:C(t,e)};var r=t.charAt(0);return"b"===r?{type:"message",data:M(t.substring(1),e)}:l[r]?t.length>1?{type:l[r],data:t.substring(1)}:{type:l[r]}:d},M=function(t,e){if(O){var r=function(t){var e,r,n,i,s,o=.75*t.length,a=t.length,u=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);var c=new ArrayBuffer(o),h=new Uint8Array(c);for(e=0;e<a;e+=4)r=$[t.charCodeAt(e)],n=$[t.charCodeAt(e+1)],i=$[t.charCodeAt(e+2)],s=$[t.charCodeAt(e+3)],h[u++]=r<<2|n>>4,h[u++]=(15&n)<<4|i>>2,h[u++]=(3&i)<<6|63&s;return c}(t);return C(r,e)}return{base64:!0,data:t}},C=function(t,e){return"blob"===e?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer},D=String.fromCharCode(30);function B(){return new TransformStream({transform:function(t,e){!function(t,e){y&&t.data instanceof Blob?t.data.arrayBuffer().then(k).then(e):v&&(t.data instanceof ArrayBuffer||g(t.data))?e(k(t.data)):m(t,!1,(function(t){p||(p=new TextEncoder),e(p.encode(t))}))}(t,(function(r){var n,i=r.length;if(i<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,i);else if(i<65536){n=new Uint8Array(3);var s=new DataView(n.buffer);s.setUint8(0,126),s.setUint16(1,i)}else{n=new Uint8Array(9);var o=new DataView(n.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(i))}t.data&&"string"!==typeof t.data&&(n[0]|=128),e.enqueue(n),e.enqueue(r)}))}})}function L(t){return t.reduce((function(t,e){return t+e.length}),0)}function q(t,e){if(t[0].length===e)return t.shift();for(var r=new Uint8Array(e),n=0,i=0;i<e;i++)r[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}var E=r(41331),R="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function A(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r.reduce((function(e,r){return t.hasOwnProperty(r)&&(e[r]=t[r]),e}),{})}var Z=R.setTimeout,U=R.clearTimeout;function P(t,e){e.useNativeTimers?(t.setTimeoutFn=Z.bind(R),t.clearTimeoutFn=U.bind(R)):(t.setTimeoutFn=R.setTimeout.bind(R),t.clearTimeoutFn=R.clearTimeout.bind(R))}function W(t){for(var e={},r=t.split("&"),n=0,i=r.length;n<i;n++){var s=r[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}var H,_=function(t){(0,o.Z)(r,t);var e=(0,a.Z)(r);function r(t,i,s){var o;return(0,n.Z)(this,r),(o=e.call(this,t)).description=i,o.context=s,o.type="TransportError",o}return(0,i.Z)(r)}((0,h.Z)(Error)),F=function(t){(0,o.Z)(r,t);var e=(0,a.Z)(r);function r(t){var i;return(0,n.Z)(this,r),(i=e.call(this)).writable=!1,P((0,s.Z)(i),t),i.opts=t,i.query=t.query,i.socket=t.socket,i}return(0,i.Z)(r,[{key:"onError",value:function(t,e,n){return(0,u.Z)((0,c.Z)(r.prototype),"emitReserved",this).call(this,"error",new _(t,e,n)),this}},{key:"open",value:function(){return this.readyState="opening",this.doOpen(),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(t){"open"===this.readyState&&this.write(t)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,(0,u.Z)((0,c.Z)(r.prototype),"emitReserved",this).call(this,"open")}},{key:"onData",value:function(t){var e=x(t,this.socket.binaryType);this.onPacket(e)}},{key:"onPacket",value:function(t){(0,u.Z)((0,c.Z)(r.prototype),"emitReserved",this).call(this,"packet",t)}},{key:"onClose",value:function(t){this.readyState="closed",(0,u.Z)((0,c.Z)(r.prototype),"emitReserved",this).call(this,"close",t)}},{key:"pause",value:function(t){}},{key:"createUri",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}},{key:"_hostname",value:function(){var t=this.opts.hostname;return-1===t.indexOf(":")?t:"["+t+"]"}},{key:"_port",value:function(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}},{key:"_query",value:function(t){var e=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}(t);return e.length?"?"+e:""}}]),r}(E.Q),I="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),j={},Y=0,N=0;function V(t){var e="";do{e=I[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function J(){var t=V(+new Date);return t!==H?(Y=0,H=t):t+"."+V(Y++)}for(;N<64;N++)j[I[N]]=N;var z=!1;try{z="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(dt){}var X=z;function Q(t){var e=t.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!e||X))return new XMLHttpRequest}catch(r){}if(!e)try{return new(R[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(r){}}function G(){}var K=null!=new Q({xdomain:!1}).responseType,tt=function(t){(0,o.Z)(r,t);var e=(0,a.Z)(r);function r(t){var i;if((0,n.Z)(this,r),(i=e.call(this,t)).polling=!1,"undefined"!==typeof location){var s="https:"===location.protocol,o=location.port;o||(o=s?"443":"80"),i.xd="undefined"!==typeof location&&t.hostname!==location.hostname||o!==t.port}var a=t&&t.forceBase64;return i.supportsBinary=K&&!a,i.opts.withCredentials&&(i.cookieJar=void 0),i}return(0,i.Z)(r,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(t){var e=this;this.readyState="pausing";var r=function(){e.readyState="paused",t()};if(this.polling||!this.writable){var n=0;this.polling&&(n++,this.once("pollComplete",(function(){--n||r()}))),this.writable||(n++,this.once("drain",(function(){--n||r()})))}else r()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}},{key:"onData",value:function(t){var e=this;(function(t,e){for(var r=t.split(D),n=[],i=0;i<r.length;i++){var s=x(r[i],e);if(n.push(s),"error"===s.type)break}return n})(t,this.socket.binaryType).forEach((function(t){if("opening"===e.readyState&&"open"===t.type&&e.onOpen(),"close"===t.type)return e.onClose({description:"transport closed by the server"}),!1;e.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var t=this,e=function(){t.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}},{key:"write",value:function(t){var e=this;this.writable=!1,function(t,e){var r=t.length,n=new Array(r),i=0;t.forEach((function(t,s){m(t,!1,(function(t){n[s]=t,++i===r&&e(n.join(D))}))}))}(t,(function(t){e.doWrite(t,(function(){e.writable=!0,e.emitReserved("drain")}))}))}},{key:"uri",value:function(){var t=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=J()),this.supportsBinary||e.sid||(e.b64=1),this.createUri(t,e)}},{key:"request",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new et(this.uri(),t)}},{key:"doWrite",value:function(t,e){var r=this,n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",(function(t,e){r.onError("xhr post error",t,e)}))}},{key:"doPoll",value:function(){var t=this,e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(function(e,r){t.onError("xhr poll error",e,r)})),this.pollXhr=e}}]),r}(F),et=function(t){(0,o.Z)(r,t);var e=(0,a.Z)(r);function r(t,i){var o;return(0,n.Z)(this,r),o=e.call(this),P((0,s.Z)(o),i),o.opts=i,o.method=i.method||"GET",o.uri=t,o.data=void 0!==i.data?i.data:null,o.create(),o}return(0,i.Z)(r,[{key:"create",value:function(){var t,e=this,n=A(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;var i=this.xhr=new Q(n);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders)for(var s in i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this.opts.extraHeaders[s])}catch(o){}if("POST"===this.method)try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{i.setRequestHeader("Accept","*/*")}catch(o){}null===(t=this.opts.cookieJar)||void 0===t||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=function(){var t;3===i.readyState&&(null===(t=e.opts.cookieJar)||void 0===t||t.parseCookies(i)),4===i.readyState&&(200===i.status||1223===i.status?e.onLoad():e.setTimeoutFn((function(){e.onError("number"===typeof i.status?i.status:0)}),0))},i.send(this.data)}catch(o){return void this.setTimeoutFn((function(){e.onError(o)}),0)}"undefined"!==typeof document&&(this.index=r.requestsCount++,r.requests[this.index]=this)}},{key:"onError",value:function(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}},{key:"cleanup",value:function(t){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=G,t)try{this.xhr.abort()}catch(e){}"undefined"!==typeof document&&delete r.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}},{key:"abort",value:function(){this.cleanup()}}]),r}(E.Q);if(et.requestsCount=0,et.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",rt);else if("function"===typeof addEventListener){addEventListener("onpagehide"in R?"pagehide":"unload",rt,!1)}function rt(){for(var t in et.requests)et.requests.hasOwnProperty(t)&&et.requests[t].abort()}var nt="function"===typeof Promise&&"function"===typeof Promise.resolve?function(t){return Promise.resolve().then(t)}:function(t,e){return e(t,0)},it=R.WebSocket||R.MozWebSocket,st="arraybuffer",ot="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),at=function(t){(0,o.Z)(r,t);var e=(0,a.Z)(r);function r(t){var i;return(0,n.Z)(this,r),(i=e.call(this,t)).supportsBinary=!t.forceBase64,i}return(0,i.Z)(r,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var t=this.uri(),e=this.opts.protocols,r=ot?{}:A(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=ot?new it(t,e,r):e?new it(t,e):new it(t)}catch(dt){return this.emitReserved("error",dt)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}}},{key:"addEventListeners",value:function(){var t=this;this.ws.onopen=function(){t.opts.autoUnref&&t.ws._socket.unref(),t.onOpen()},this.ws.onclose=function(e){return t.onClose({description:"websocket connection closed",context:e})},this.ws.onmessage=function(e){return t.onData(e.data)},this.ws.onerror=function(e){return t.onError("websocket error",e)}}},{key:"write",value:function(t){var e=this;this.writable=!1;for(var r=function(r){var n=t[r],i=r===t.length-1;m(n,e.supportsBinary,(function(t){try{e.ws.send(t)}catch(r){}i&&nt((function(){e.writable=!0,e.emitReserved("drain")}),e.setTimeoutFn)}))},n=0;n<t.length;n++)r(n)}},{key:"doClose",value:function(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=J()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}},{key:"check",value:function(){return!!it}}]),r}(F),ut=function(t){(0,o.Z)(r,t);var e=(0,a.Z)(r);function r(){return(0,n.Z)(this,r),e.apply(this,arguments)}return(0,i.Z)(r,[{key:"name",get:function(){return"webtransport"}},{key:"doOpen",value:function(){var t=this;"function"===typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((function(){t.onClose()})).catch((function(e){t.onError("webtransport error",e)})),this.transport.ready.then((function(){t.transport.createBidirectionalStream().then((function(e){var r=function(t,e){T||(T=new TextDecoder);var r=[],n=0,i=-1,s=!1;return new TransformStream({transform:function(o,a){for(r.push(o);;){if(0===n){if(L(r)<1)break;var u=q(r,1);s=128===(128&u[0]),i=127&u[0],n=i<126?3:126===i?1:2}else if(1===n){if(L(r)<2)break;var c=q(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(2===n){if(L(r)<8)break;var h=q(r,8),f=new DataView(h.buffer,h.byteOffset,h.length),l=f.getUint32(0);if(l>Math.pow(2,21)-1){a.enqueue(d);break}i=l*Math.pow(2,32)+f.getUint32(4),n=3}else{if(L(r)<i)break;var p=q(r,i);a.enqueue(x(s?p:T.decode(p),e)),n=0}if(0===i||i>t){a.enqueue(d);break}}}})}(Number.MAX_SAFE_INTEGER,t.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),i=B();i.readable.pipeTo(e.writable),t.writer=i.writable.getWriter();!function e(){n.read().then((function(r){var n=r.done,i=r.value;n||(t.onPacket(i),e())})).catch((function(t){}))}();var s={type:"open"};t.query.sid&&(s.data='{"sid":"'.concat(t.query.sid,'"}')),t.writer.write(s).then((function(){return t.onOpen()}))}))})))}},{key:"write",value:function(t){var e=this;this.writable=!1;for(var r=function(r){var n=t[r],i=r===t.length-1;e.writer.write(n).then((function(){i&&nt((function(){e.writable=!0,e.emitReserved("drain")}),e.setTimeoutFn)}))},n=0;n<t.length;n++)r(n)}},{key:"doClose",value:function(){var t;null===(t=this.transport)||void 0===t||t.close()}}]),r}(F),ct={websocket:at,webtransport:ut,polling:tt},ht=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ft=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function lt(t){var e=t,r=t.indexOf("["),n=t.indexOf("]");-1!=r&&-1!=n&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));for(var i=ht.exec(t||""),s={},o=14;o--;)s[ft[o]]=i[o]||"";return-1!=r&&-1!=n&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(t,e){var r=/\/{2,9}/g,n=e.replace(r,"/").split("/");"/"!=e.slice(0,1)&&0!==e.length||n.splice(0,1);"/"==e.slice(-1)&&n.splice(n.length-1,1);return n}(0,s.path),s.queryKey=function(t,e){var r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,n){e&&(r[e]=n)})),r}(0,s.query),s}var pt=function(t){(0,o.Z)(r,t);var e=(0,a.Z)(r);function r(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.Z)(this,r),(i=e.call(this)).binaryType=st,i.writeBuffer=[],t&&"object"===typeof t&&(o=t,t=null),t?(t=lt(t),o.hostname=t.host,o.secure="https"===t.protocol||"wss"===t.protocol,o.port=t.port,t.query&&(o.query=t.query)):o.host&&(o.hostname=lt(o.host).host),P((0,s.Z)(i),o),i.secure=null!=o.secure?o.secure:"undefined"!==typeof location&&"https:"===location.protocol,o.hostname&&!o.port&&(o.port=i.secure?"443":"80"),i.hostname=o.hostname||("undefined"!==typeof location?location.hostname:"localhost"),i.port=o.port||("undefined"!==typeof location&&location.port?location.port:i.secure?"443":"80"),i.transports=o.transports||["polling","websocket","webtransport"],i.writeBuffer=[],i.prevBufferLen=0,i.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},o),i.opts.path=i.opts.path.replace(/\/$/,"")+(i.opts.addTrailingSlash?"/":""),"string"===typeof i.opts.query&&(i.opts.query=W(i.opts.query)),i.id=null,i.upgrades=null,i.pingInterval=null,i.pingTimeout=null,i.pingTimeoutTimer=null,"function"===typeof addEventListener&&(i.opts.closeOnBeforeunload&&(i.beforeunloadEventListener=function(){i.transport&&(i.transport.removeAllListeners(),i.transport.close())},addEventListener("beforeunload",i.beforeunloadEventListener,!1)),"localhost"!==i.hostname&&(i.offlineEventListener=function(){i.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",i.offlineEventListener,!1))),i.open(),i}return(0,i.Z)(r,[{key:"createTransport",value:function(t){var e=Object.assign({},this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);var r=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new ct[t](r)}},{key:"open",value:function(){var t,e=this;if(this.opts.rememberUpgrade&&r.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((function(){e.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(n){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}},{key:"setTransport",value:function(t){var e=this;this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(function(t){return e.onClose("transport close",t)}))}},{key:"probe",value:function(t){var e=this,n=this.createTransport(t),i=!1;r.priorWebsocketSuccess=!1;var s=function(){i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",(function(t){if(!i)if("pong"===t.type&&"probe"===t.data){if(e.upgrading=!0,e.emitReserved("upgrading",n),!n)return;r.priorWebsocketSuccess="websocket"===n.name,e.transport.pause((function(){i||"closed"!==e.readyState&&(f(),e.setTransport(n),n.send([{type:"upgrade"}]),e.emitReserved("upgrade",n),n=null,e.upgrading=!1,e.flush())}))}else{var s=new Error("probe error");s.transport=n.name,e.emitReserved("upgradeError",s)}})))};function o(){i||(i=!0,f(),n.close(),n=null)}var a=function(t){var r=new Error("probe error: "+t);r.transport=n.name,o(),e.emitReserved("upgradeError",r)};function u(){a("transport closed")}function c(){a("socket closed")}function h(t){n&&t.name!==n.name&&o()}var f=function(){n.removeListener("open",s),n.removeListener("error",a),n.removeListener("close",u),e.off("close",c),e.off("upgrading",h)};n.once("open",s),n.once("error",a),n.once("close",u),this.once("close",c),this.once("upgrading",h),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn((function(){i||n.open()}),200):n.open()}},{key:"onOpen",value:function(){if(this.readyState="open",r.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade)for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},{key:"onPacket",value:function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}},{key:"onHandshake",value:function(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var t=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((function(){t.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}},{key:"getWritablePackets",value:function(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;for(var t,e=1,r=0;r<this.writeBuffer.length;r++){var n=this.writeBuffer[r].data;if(n&&(e+="string"===typeof(t=n)?function(t){for(var e=0,r=0,n=0,i=t.length;n<i;n++)(e=t.charCodeAt(n))<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}(t):Math.ceil(1.33*(t.byteLength||t.size))),r>0&&e>this.maxPayload)return this.writeBuffer.slice(0,r);e+=2}return this.writeBuffer}},{key:"write",value:function(t,e,r){return this.sendPacket("message",t,e,r),this}},{key:"send",value:function(t,e,r){return this.sendPacket("message",t,e,r),this}},{key:"sendPacket",value:function(t,e,r,n){if("function"===typeof e&&(n=e,e=void 0),"function"===typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){(r=r||{}).compress=!1!==r.compress;var i={type:t,data:e,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}}},{key:"close",value:function(){var t=this,e=function(){t.onClose("forced close"),t.transport.close()},r=function r(){t.off("upgrade",r),t.off("upgradeError",r),e()},n=function(){t.once("upgrade",r),t.once("upgradeError",r)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){t.upgrading?n():e()})):this.upgrading?n():e()),this}},{key:"onError",value:function(t){r.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}},{key:"onClose",value:function(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(t){for(var e=[],r=0,n=t.length;r<n;r++)~this.transports.indexOf(t[r])&&e.push(t[r]);return e}}]),r}(E.Q);pt.protocol=4;pt.protocol}}]);